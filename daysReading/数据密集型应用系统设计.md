## 第1章 可靠、可扩展与可维护的应用系统



本书专注于大多数软件系统都极为重要的三个问题：

**可靠性（Reliability）**

硬件故障、软件错误、人为失误这三种情况下如何应对

**可扩展性**

当负载增加，系统如何应对。描述负载的指标有哪些？

**可维护性**

可运维性、简单性、可演化性



<font color="red">第一章介绍了一个系统应该关注的三个问题，后面的章节会讲一个系统如何构成，这三个问题会贯彻整本书。</font>





## 第二章 数据模型与查询语言

大多数应用程序是通过一层一层叠加数据模型来构建的。每一层都面临的关键问题是：如何将其用下一层来表示。

复杂的应用程序可能会有更多的中间层，例如基于API来构建上层API，但基本思想相同：每层都通过一个简洁的数据模型来隐藏下层的复杂性。



### 关系模型与文档模型

文档模型胜在灵活（读时检查，可随意添加字段）,关系模型胜在关联（对于多对一，多对多等场景，文档模型对join操作支持比较弱，往往将join逻辑放在应用层实现，而关系模型可通过外键进行关联，关联的逻辑在数据层实现）。

对于选择哪种数据模型，则取决于应用场景。对于多对多场景下，文档模型可通过反规范化来减少join操作，但需要应用代码做额外的工作来保证数据的一致性；也可以选择规范化存储，通过多次读取数据，模拟join操作。总的来说，相比采用关系模型来说，应用层序的代码会更复杂，性能更差。

对于数据模式经常变化的情况，关系模型往往需要停止应用修改模式（例如 数据库的表字段修改），而文档模型则需要修改读时代码的逻辑即可。





<font color="red">第二章引出了应用模型分层的概念以及层与层之间通过数据抽象（数据模型）来隐藏细节</font>，然后比较了关系模型以及文档模型的优缺点。

前面介绍了关系模型和文档模型以及图模型，然后介绍每个数据模型相应的查询语言或框架。

